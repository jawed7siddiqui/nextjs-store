{"ast":null,"code":"import _objectSpread from \"/var/www/html/Client/India/adysoft/nextjs-ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/var/www/html/Client/India/adysoft/nextjs-ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/var/www/html/Client/India/adysoft/nextjs-ecommerce/src/pages/other/LoginRegister.js\";\n\nimport PropTypes from \"prop-types\";\nimport React, { Fragment, useState } from \"react\";\nimport MetaTags from \"react-meta-tags\";\nimport { Link } from \"react-router-dom\";\nimport { BreadcrumbsItem } from \"react-breadcrumbs-dynamic\";\nimport Tab from \"react-bootstrap/Tab\";\nimport Nav from \"react-bootstrap/Nav\";\nimport LayoutOne from \"../../layouts/LayoutOne\";\nimport Breadcrumb from \"../../wrappers/breadcrumb/Breadcrumb\";\nimport axios from 'axios';\n\nvar LoginRegister = function LoginRegister(_ref) {\n  var location = _ref.location;\n  var pathname = location.pathname;\n\n  var _useState = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      formData = _useState2[0],\n      setFormData = _useState2[1];\n\n  var handleLogin = function handleLogin() {\n    axios({\n      url: process.env.REACT_APP_API_URL,\n      method: 'post',\n      data: {\n        query: \"\\n          mutation {\\n            login(email: \\\"\".concat(formData.email, \"\\\", password: \\\"\").concat(formData.password, \"\\\") {\\n                token\\n                user {\\n                    id\\n                    role_id\\n                    name\\n                    phone\\n                    email\\n                    username\\n                    status\\n                    role_id\\n                    created_at\\n                    updated_at\\n                }\\n            }\\n        }\\n            \")\n      }\n    }).then(function (result) {\n      if (result.data.data.login.user.role_id == 6) {\n        result.data.data.login.user.role = 'admin';\n      }\n\n      window.localStorage.setItem('accessToken', result.data.data.login.token);\n      console.log(result.data);\n      window.localStorage.setItem('userData', JSON.stringify(result.data.data.login.user));\n    }).catch(function (err) {});\n  };\n\n  var handleRegister = function handleRegister() {\n    axios.post(process.env.REACT_APP_API_URL, {\n      query: \"\\n\\n      mutation {\\n        register(data: {\\n                  name: \\\"\".concat(formData.name, \"\\\",\\n                  phone: \\\"9142627909\\\",\\n                  email: \\\"\").concat(formData.email, \"\\\",\\n                  username: \\\"\").concat(formData.name, \"\\\",\\n                  password: \\\"\").concat(formData.password, \"\\\",\\n        }) {\\n            token\\n            user {\\n                id\\n                role_id\\n                name\\n                phone\\n                email\\n                username\\n                status\\n                created_at\\n                updated_at\\n            }\\n        }\\n    }\\n   \\n        \")\n    }).then(function (res) {\n      if (res.data.errors) {//\n      } else {\n        console.log(res);\n        handleLogin();\n      }\n    }).catch(function (err) {});\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MetaTags, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, \"Flone | Login\"), /*#__PURE__*/React.createElement(\"meta\", {\n    name: \"description\",\n    content: \"Compare page of flone react minimalist eCommerce template.\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(BreadcrumbsItem, {\n    to: process.env.PUBLIC_URL + \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, \"Home\"), /*#__PURE__*/React.createElement(BreadcrumbsItem, {\n    to: process.env.PUBLIC_URL + pathname,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, \"Login Register\"), /*#__PURE__*/React.createElement(LayoutOne, {\n    headerTop: \"visible\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-register-area pt-100 pb-100\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-7 col-md-12 ml-auto mr-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-register-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Tab.Container, {\n    defaultActiveKey: \"login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    variant: \"pills\",\n    className: \"login-register-tab-list\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Nav.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Nav.Link, {\n    eventKey: \"login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 27\n    }\n  }, \"Login\"))), /*#__PURE__*/React.createElement(Nav.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Nav.Link, {\n    eventKey: \"register\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 27\n    }\n  }, \"Register\")))), /*#__PURE__*/React.createElement(Tab.Content, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Tab.Pane, {\n    eventKey: \"login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-form-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-register-form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"email\",\n    placeholder: \"email\",\n    value: formData.email,\n    onChange: function onChange(event) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        email: event.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Password\",\n    value: formData.password,\n    onChange: function onChange(event) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        password: event.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-box\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-toggle-btn\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 35\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"ml-10\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 35\n    }\n  }, \"Remember me\"), /*#__PURE__*/React.createElement(Link, {\n    to: process.env.PUBLIC_URL + \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 35\n    }\n  }, \"Forgot Password?\")), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: handleLogin,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 35\n    }\n  }, \"Login\"))))))), /*#__PURE__*/React.createElement(Tab.Pane, {\n    eventKey: \"register\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-form-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-register-form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    placeholder: \"Name\",\n    value: formData.name,\n    onChange: function onChange(event) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        name: event.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"email\",\n    placeholder: \"Email\",\n    type: \"email\",\n    value: formData.email,\n    onChange: function onChange(event) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        email: event.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Password\",\n    value: formData.password,\n    onChange: function onChange(event) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        password: event.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-box\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: handleRegister,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 35\n    }\n  }, \"Register\"))))))))))))))));\n};\n\nLoginRegister.propTypes = {\n  location: PropTypes.object\n};\nexport default LoginRegister;","map":{"version":3,"sources":["/var/www/html/Client/India/adysoft/nextjs-ecommerce/src/pages/other/LoginRegister.js"],"names":["PropTypes","React","Fragment","useState","MetaTags","Link","BreadcrumbsItem","Tab","Nav","LayoutOne","Breadcrumb","axios","LoginRegister","location","pathname","name","email","password","formData","setFormData","handleLogin","url","process","env","REACT_APP_API_URL","method","data","query","then","result","login","user","role_id","role","window","localStorage","setItem","token","console","log","JSON","stringify","catch","err","handleRegister","post","res","errors","PUBLIC_URL","event","target","value","propTypes","object"],"mappings":"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","sourcesContent":["import PropTypes from \"prop-types\";\r\nimport React, { Fragment,useState } from \"react\";\r\nimport MetaTags from \"react-meta-tags\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { BreadcrumbsItem } from \"react-breadcrumbs-dynamic\";\r\nimport Tab from \"react-bootstrap/Tab\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport LayoutOne from \"../../layouts/LayoutOne\";\r\nimport Breadcrumb from \"../../wrappers/breadcrumb/Breadcrumb\";\r\nimport axios from 'axios'\r\n\r\n\r\nconst LoginRegister = ({ location }) => {\r\n  const { pathname } = location;\r\n\r\n  const [formData, setFormData] = useState({\r\n    name:\"\",\r\n    email:\"\",\r\n    password:\"\"\r\n\r\n  });\r\n\r\n\r\n  const handleLogin = () =>{\r\n\r\n      axios({\r\n        url:  process.env.REACT_APP_API_URL ,\r\n        method: 'post',\r\n        data: {\r\n          query: `\r\n          mutation {\r\n            login(email: \"${formData.email}\", password: \"${formData.password}\") {\r\n                token\r\n                user {\r\n                    id\r\n                    role_id\r\n                    name\r\n                    phone\r\n                    email\r\n                    username\r\n                    status\r\n                    role_id\r\n                    created_at\r\n                    updated_at\r\n                }\r\n            }\r\n        }\r\n            `\r\n        }\r\n      }).then((result) => {\r\n        \r\n        if(result.data.data.login.user.role_id == 6){\r\n          result.data.data.login.user.role = 'admin'\r\n        }\r\n  \r\n        window.localStorage.setItem('accessToken', result.data.data.login.token)\r\n        console.log(result.data)\r\n    \r\n        window.localStorage.setItem('userData', JSON.stringify(result.data.data.login.user))\r\n     \r\n      }).catch(err => {\r\n       \r\n      })\r\n\r\n  }\r\n\r\n\r\n  const handleRegister = () =>{\r\n    \r\n    axios\r\n    .post( process.env.REACT_APP_API_URL , {\r\n      query: `\r\n\r\n      mutation {\r\n        register(data: {\r\n                  name: \"${formData.name}\",\r\n                  phone: \"9142627909\",\r\n                  email: \"${formData.email}\",\r\n                  username: \"${formData.name}\",\r\n                  password: \"${formData.password}\",\r\n        }) {\r\n            token\r\n            user {\r\n                id\r\n                role_id\r\n                name\r\n                phone\r\n                email\r\n                username\r\n                status\r\n                created_at\r\n                updated_at\r\n            }\r\n        }\r\n    }\r\n   \r\n        `\r\n    })\r\n    .then(res => {\r\n      if (res.data.errors) {\r\n        //\r\n      } else {\r\n        console.log(res)\r\n        handleLogin()\r\n      }\r\n    })\r\n    .catch(err => {\r\n       \r\n    })\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaTags>\r\n        <title>Flone | Login</title>\r\n        <meta\r\n          name=\"description\"\r\n          content=\"Compare page of flone react minimalist eCommerce template.\"\r\n        />\r\n      </MetaTags>\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + \"/\"}>Home</BreadcrumbsItem>\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + pathname}>\r\n        Login Register\r\n      </BreadcrumbsItem>\r\n      <LayoutOne headerTop=\"visible\">\r\n        {/* breadcrumb */}\r\n        <Breadcrumb />\r\n        <div className=\"login-register-area pt-100 pb-100\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-7 col-md-12 ml-auto mr-auto\">\r\n                <div className=\"login-register-wrapper\">\r\n                  <Tab.Container defaultActiveKey=\"login\">\r\n                    <Nav variant=\"pills\" className=\"login-register-tab-list\">\r\n                      <Nav.Item>\r\n                        <Nav.Link eventKey=\"login\">\r\n                          <h4>Login</h4>\r\n                        </Nav.Link>\r\n                      </Nav.Item>\r\n                      <Nav.Item>\r\n                        <Nav.Link eventKey=\"register\">\r\n                          <h4>Register</h4>\r\n                        </Nav.Link>\r\n                      </Nav.Item>\r\n                    </Nav>\r\n                    <Tab.Content>\r\n                      <Tab.Pane eventKey=\"login\">\r\n                        <div className=\"login-form-container\">\r\n                          <div className=\"login-register-form\">\r\n                            <form>\r\n                              <input\r\n                                type=\"text\"\r\n                                name=\"email\"\r\n                                placeholder=\"email\"\r\n                                value={formData.email}\r\n                                onChange={(event) =>\r\n                                  setFormData({ ...formData, email: event.target.value })\r\n                                }\r\n                              />\r\n                              <input\r\n                                type=\"password\"\r\n                                name=\"password\"\r\n                                placeholder=\"Password\"\r\n                                value={formData.password}\r\n                                onChange={(event) =>\r\n                                  setFormData({ ...formData, password: event.target.value })\r\n                                }\r\n                              />\r\n                              <div className=\"button-box\">\r\n                                <div className=\"login-toggle-btn\">\r\n                                  <input type=\"checkbox\" />\r\n                                  <label className=\"ml-10\">Remember me</label>\r\n                                  <Link to={process.env.PUBLIC_URL + \"/\"}>\r\n                                    Forgot Password?\r\n                                  </Link>\r\n                                </div>\r\n                                <button type=\"button\" onClick={handleLogin}>\r\n                                  <span>Login</span>\r\n                                </button>\r\n                              </div>\r\n                            </form>\r\n                          </div>\r\n                        </div>\r\n                      </Tab.Pane>\r\n                      <Tab.Pane eventKey=\"register\">\r\n                        <div className=\"login-form-container\">\r\n                          <div className=\"login-register-form\">\r\n                            <form>\r\n                              <input\r\n                                type=\"text\"\r\n                                name=\"name\"\r\n                                placeholder=\"Name\"\r\n                                value={formData.name}\r\n                                onChange={(event) =>\r\n                                  setFormData({ ...formData, name: event.target.value })\r\n                                }\r\n                              />\r\n\r\n                              <input\r\n                                name=\"email\"\r\n                                placeholder=\"Email\"\r\n                                type=\"email\"\r\n                                value={formData.email}\r\n                                onChange={(event) =>\r\n                                  setFormData({ ...formData, email: event.target.value })\r\n                                }\r\n                              />\r\n\r\n                              <input\r\n                                type=\"password\"\r\n                                name=\"password\"\r\n                                placeholder=\"Password\"\r\n                                value={formData.password}\r\n                                onChange={(event) =>\r\n                                  setFormData({ ...formData, password: event.target.value })\r\n                                }\r\n                              />\r\n                            \r\n                              <div className=\"button-box\">\r\n                                <button type=\"button\" onClick={handleRegister}>\r\n                                  <span>Register</span>\r\n                                </button>\r\n                              </div>\r\n                            </form>\r\n                          </div>\r\n                        </div>\r\n                      </Tab.Pane>\r\n                    </Tab.Content>\r\n                  </Tab.Container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </LayoutOne>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nLoginRegister.propTypes = {\r\n  location: PropTypes.object\r\n};\r\n\r\nexport default LoginRegister;\r\n"]},"metadata":{},"sourceType":"module"}