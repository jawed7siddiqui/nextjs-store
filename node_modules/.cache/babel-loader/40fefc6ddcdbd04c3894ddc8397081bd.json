{"ast":null,"code":"import _slicedToArray from\"/var/www/html/Client/India/adysoft/nextjs-ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState,useEffect}from\"react\";import MetaTags from\"react-meta-tags\";import Paginator from\"react-hooks-paginator\";import{BreadcrumbsItem}from\"react-breadcrumbs-dynamic\";import{connect}from\"react-redux\";import{getSortedProducts}from\"../../helpers/product\";import LayoutOne from\"../../layouts/LayoutOne\";import Breadcrumb from\"../../wrappers/breadcrumb/Breadcrumb\";import ShopSidebar from\"../../wrappers/product/ShopSidebar\";import ShopTopbar from\"../../wrappers/product/ShopTopbar\";import ShopProducts from\"../../wrappers/product/ShopProducts\";var ShopListStandard=function ShopListStandard(_ref){var location=_ref.location,products=_ref.products;var _useState=useState(\"list\"),_useState2=_slicedToArray(_useState,2),layout=_useState2[0],setLayout=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),sortType=_useState4[0],setSortType=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),sortValue=_useState6[0],setSortValue=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),filterSortType=_useState8[0],setFilterSortType=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),filterSortValue=_useState10[0],setFilterSortValue=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),offset=_useState12[0],setOffset=_useState12[1];var _useState13=useState(1),_useState14=_slicedToArray(_useState13,2),currentPage=_useState14[0],setCurrentPage=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),currentData=_useState16[0],setCurrentData=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),sortedProducts=_useState18[0],setSortedProducts=_useState18[1];var pageLimit=15;var pathname=location.pathname;var getLayout=function getLayout(layout){setLayout(layout);};var getSortParams=function getSortParams(sortType,sortValue){setSortType(sortType);setSortValue(sortValue);};var getFilterSortParams=function getFilterSortParams(sortType,sortValue){setFilterSortType(sortType);setFilterSortValue(sortValue);};useEffect(function(){var sortedProducts=getSortedProducts(products,sortType,sortValue);var filterSortedProducts=getSortedProducts(sortedProducts,filterSortType,filterSortValue);sortedProducts=filterSortedProducts;setSortedProducts(sortedProducts);setCurrentData(sortedProducts.slice(offset,offset+pageLimit));},[offset,products,sortType,sortValue,filterSortType,filterSortValue]);return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(MetaTags,null,/*#__PURE__*/React.createElement(\"title\",null,\"Flone | Shop Page\"),/*#__PURE__*/React.createElement(\"meta\",{name:\"description\",content:\"Shop page of flone react minimalist eCommerce template.\"})),/*#__PURE__*/React.createElement(BreadcrumbsItem,{to:process.env.PUBLIC_URL+\"/\"},\"Home\"),/*#__PURE__*/React.createElement(BreadcrumbsItem,{to:process.env.PUBLIC_URL+pathname},\"Shop\"),/*#__PURE__*/React.createElement(LayoutOne,{headerTop:\"visible\"},/*#__PURE__*/React.createElement(Breadcrumb,null),/*#__PURE__*/React.createElement(\"div\",{className:\"shop-area pt-95 pb-100\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-3 order-2 order-lg-1\"},/*#__PURE__*/React.createElement(ShopSidebar,{products:products,getSortParams:getSortParams,sideSpaceClass:\"mr-30\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-9 order-1 order-lg-2\"},/*#__PURE__*/React.createElement(ShopTopbar,{getLayout:getLayout,getFilterSortParams:getFilterSortParams,productCount:products.length,sortedProductCount:currentData.length}),/*#__PURE__*/React.createElement(ShopProducts,{layout:layout,products:currentData}),/*#__PURE__*/React.createElement(\"div\",{className:\"pro-pagination-style text-center mt-30\"},/*#__PURE__*/React.createElement(Paginator,{totalRecords:sortedProducts.length,pageLimit:pageLimit,pageNeighbours:2,setOffset:setOffset,currentPage:currentPage,setCurrentPage:setCurrentPage,pageContainerClass:\"mb-0 mt-0\",pagePrevText:\"\\xAB\",pageNextText:\"\\xBB\"}))))))));};var mapStateToProps=function mapStateToProps(state){return{products:state.productData.products};};export default connect(mapStateToProps)(ShopListStandard);","map":{"version":3,"sources":["/var/www/html/Client/India/adysoft/nextjs-ecommerce/src/pages/shop/ShopListStandard.js"],"names":["React","Fragment","useState","useEffect","MetaTags","Paginator","BreadcrumbsItem","connect","getSortedProducts","LayoutOne","Breadcrumb","ShopSidebar","ShopTopbar","ShopProducts","ShopListStandard","location","products","layout","setLayout","sortType","setSortType","sortValue","setSortValue","filterSortType","setFilterSortType","filterSortValue","setFilterSortValue","offset","setOffset","currentPage","setCurrentPage","currentData","setCurrentData","sortedProducts","setSortedProducts","pageLimit","pathname","getLayout","getSortParams","getFilterSortParams","filterSortedProducts","slice","process","env","PUBLIC_URL","length","mapStateToProps","state","productData"],"mappings":"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","sourcesContent":["import PropTypes from \"prop-types\";\r\nimport React, { Fragment, useState, useEffect } from \"react\";\r\nimport MetaTags from \"react-meta-tags\";\r\nimport Paginator from \"react-hooks-paginator\";\r\nimport { BreadcrumbsItem } from \"react-breadcrumbs-dynamic\";\r\nimport { connect } from \"react-redux\";\r\nimport { getSortedProducts } from \"../../helpers/product\";\r\nimport LayoutOne from \"../../layouts/LayoutOne\";\r\nimport Breadcrumb from \"../../wrappers/breadcrumb/Breadcrumb\";\r\nimport ShopSidebar from \"../../wrappers/product/ShopSidebar\";\r\nimport ShopTopbar from \"../../wrappers/product/ShopTopbar\";\r\nimport ShopProducts from \"../../wrappers/product/ShopProducts\";\r\n\r\nconst ShopListStandard = ({ location, products }) => {\r\n  const [layout, setLayout] = useState(\"list\");\r\n  const [sortType, setSortType] = useState(\"\");\r\n  const [sortValue, setSortValue] = useState(\"\");\r\n  const [filterSortType, setFilterSortType] = useState(\"\");\r\n  const [filterSortValue, setFilterSortValue] = useState(\"\");\r\n  const [offset, setOffset] = useState(0);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [currentData, setCurrentData] = useState([]);\r\n  const [sortedProducts, setSortedProducts] = useState([]);\r\n\r\n  const pageLimit = 15;\r\n  const { pathname } = location;\r\n\r\n  const getLayout = layout => {\r\n    setLayout(layout);\r\n  };\r\n\r\n  const getSortParams = (sortType, sortValue) => {\r\n    setSortType(sortType);\r\n    setSortValue(sortValue);\r\n  };\r\n\r\n  const getFilterSortParams = (sortType, sortValue) => {\r\n    setFilterSortType(sortType);\r\n    setFilterSortValue(sortValue);\r\n  };\r\n\r\n  useEffect(() => {\r\n    let sortedProducts = getSortedProducts(products, sortType, sortValue);\r\n    const filterSortedProducts = getSortedProducts(\r\n      sortedProducts,\r\n      filterSortType,\r\n      filterSortValue\r\n    );\r\n    sortedProducts = filterSortedProducts;\r\n    setSortedProducts(sortedProducts);\r\n    setCurrentData(sortedProducts.slice(offset, offset + pageLimit));\r\n  }, [offset, products, sortType, sortValue, filterSortType, filterSortValue]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaTags>\r\n        <title>Flone | Shop Page</title>\r\n        <meta\r\n          name=\"description\"\r\n          content=\"Shop page of flone react minimalist eCommerce template.\"\r\n        />\r\n      </MetaTags>\r\n\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + \"/\"}>Home</BreadcrumbsItem>\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + pathname}>\r\n        Shop\r\n      </BreadcrumbsItem>\r\n\r\n      <LayoutOne headerTop=\"visible\">\r\n        {/* breadcrumb */}\r\n        <Breadcrumb />\r\n\r\n        <div className=\"shop-area pt-95 pb-100\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-3 order-2 order-lg-1\">\r\n                {/* shop sidebar */}\r\n                <ShopSidebar\r\n                  products={products}\r\n                  getSortParams={getSortParams}\r\n                  sideSpaceClass=\"mr-30\"\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-9 order-1 order-lg-2\">\r\n                {/* shop topbar default */}\r\n                <ShopTopbar\r\n                  getLayout={getLayout}\r\n                  getFilterSortParams={getFilterSortParams}\r\n                  productCount={products.length}\r\n                  sortedProductCount={currentData.length}\r\n                />\r\n\r\n                {/* shop page content default */}\r\n                <ShopProducts layout={layout} products={currentData} />\r\n\r\n                {/* shop product pagination */}\r\n                <div className=\"pro-pagination-style text-center mt-30\">\r\n                  <Paginator\r\n                    totalRecords={sortedProducts.length}\r\n                    pageLimit={pageLimit}\r\n                    pageNeighbours={2}\r\n                    setOffset={setOffset}\r\n                    currentPage={currentPage}\r\n                    setCurrentPage={setCurrentPage}\r\n                    pageContainerClass=\"mb-0 mt-0\"\r\n                    pagePrevText=\"«\"\r\n                    pageNextText=\"»\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </LayoutOne>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nShopListStandard.propTypes = {\r\n  location: PropTypes.object,\r\n  products: PropTypes.array\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    products: state.productData.products\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(ShopListStandard);\r\n"]},"metadata":{},"sourceType":"module"}