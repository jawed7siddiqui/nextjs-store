{"ast":null,"code":"import _objectSpread from \"/var/www/html/Client/India/adysoft/nextjs-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/var/www/html/Client/India/adysoft/nextjs-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/var/www/html/Client/India/adysoft/nextjs-store/src/pages/other/LoginRegister.js\";\n\nimport PropTypes from \"prop-types\";\nimport React, { Fragment, useState } from \"react\";\nimport MetaTags from \"react-meta-tags\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { BreadcrumbsItem } from \"react-breadcrumbs-dynamic\";\nimport Tab from \"react-bootstrap/Tab\";\nimport Nav from \"react-bootstrap/Nav\";\nimport LayoutOne from \"../../layouts/LayoutOne\";\nimport Breadcrumb from \"../../wrappers/breadcrumb/Breadcrumb\";\nimport axios from 'axios';\nimport { ToastProvider, useToasts } from 'react-toast-notifications';\n\nvar LoginRegister = function LoginRegister(_ref) {\n  var location = _ref.location;\n  var navigate = useHistory();\n\n  var _useToasts = useToasts(),\n      addToast = _useToasts.addToast;\n\n  var pathname = location.pathname;\n\n  var _useState = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      formData = _useState2[0],\n      setFormData = _useState2[1];\n\n  var handleLogin = function handleLogin() {\n    axios({\n      url: process.env.REACT_APP_API_URL,\n      method: 'post',\n      data: {\n        query: \"\\n          mutation {\\n            login(email: \\\"\".concat(formData.email, \"\\\", password: \\\"\").concat(formData.password, \"\\\") {\\n                token\\n                user {\\n                    id\\n                    role_id\\n                    name\\n                    phone\\n                    email\\n                    username\\n                    status\\n                    role_id\\n                    created_at\\n                    updated_at\\n                }\\n            }\\n        }\\n            \")\n      }\n    }).then(function (result) {\n      if (result.data.data.login.user.role_id == 6) {\n        result.data.data.login.user.role = 'admin';\n      }\n\n      window.localStorage.setItem('accessToken', result.data.data.login.token);\n      console.log(result.data);\n      window.localStorage.setItem('userData', JSON.stringify(result.data.data.login.user));\n      addToast('Login Successfully', {\n        appearance: 'success'\n      });\n      setTimeout(function () {\n        return navigate.push(\"/my-account\");\n      }, 1000);\n    }).catch(function (err) {});\n  };\n\n  var handleRegister = function handleRegister() {\n    axios.post(process.env.REACT_APP_API_URL, {\n      query: \"\\n\\n      mutation {\\n        userCreate(data: {\\n            role_id: 7,\\n            store_id: 1,\\n            name: \\\"\".concat(formData.name, \"\\\",\\n            phone: \\\"9142627909\\\",\\n            email: \\\"\").concat(formData.email, \"\\\",\\n            username: \\\"\").concat(formData.name, \"\\\",\\n            password: \\\"\").concat(formData.password, \"\\\",            \\n            address: \\\"N/A\\\",\\n        }) {\\n            id,\\n            role_id,\\n            store_id,\\n            name,\\n            phone,\\n            email,\\n            username,\\n            address,\\n            status,\\n            created_at,\\n            updated_at\\n        }\\n    }\\n \\n        \")\n    }).then(function (res) {\n      if (res.data.errors) {//\n      } else {\n        console.log(res); // window.localStorage.setItem('accessToken', res.data.data.register.token)\n\n        window.localStorage.setItem('userData', JSON.stringify(res.data.data.userCreate));\n        console.log(res);\n        addToast('Registration Successfully', {\n          appearance: 'success'\n        });\n        setTimeout(function () {\n          return navigate.push(\"/my-account\");\n        }, 1000);\n      }\n    }).catch(function (err) {});\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MetaTags, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }, \"Flone | Login\"), /*#__PURE__*/React.createElement(\"meta\", {\n    name: \"description\",\n    content: \"Compare page of flone react minimalist eCommerce template.\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(BreadcrumbsItem, {\n    to: process.env.PUBLIC_URL + \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }\n  }, \"Home\"), /*#__PURE__*/React.createElement(BreadcrumbsItem, {\n    to: process.env.PUBLIC_URL + pathname,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }\n  }, \"Login Register\"), /*#__PURE__*/React.createElement(LayoutOne, {\n    headerTop: \"visible\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-register-area pt-100 pb-100\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-7 col-md-12 ml-auto mr-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-register-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Tab.Container, {\n    defaultActiveKey: \"login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    variant: \"pills\",\n    className: \"login-register-tab-list\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Nav.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Nav.Link, {\n    eventKey: \"login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 27\n    }\n  }, \"Login\"))), /*#__PURE__*/React.createElement(Nav.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Nav.Link, {\n    eventKey: \"register\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 27\n    }\n  }, \"Register\")))), /*#__PURE__*/React.createElement(Tab.Content, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Tab.Pane, {\n    eventKey: \"login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-form-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-register-form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"email\",\n    placeholder: \"email\",\n    value: formData.email,\n    onChange: function onChange(event) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        email: event.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Password\",\n    value: formData.password,\n    onChange: function onChange(event) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        password: event.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-box\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-toggle-btn\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 35\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"ml-10\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 35\n    }\n  }, \"Remember me\"), /*#__PURE__*/React.createElement(Link, {\n    to: process.env.PUBLIC_URL + \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 35\n    }\n  }, \"Forgot Password?\")), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: handleLogin,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 35\n    }\n  }, \"Login\"))))))), /*#__PURE__*/React.createElement(Tab.Pane, {\n    eventKey: \"register\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-form-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-register-form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    placeholder: \"Name\",\n    value: formData.name,\n    onChange: function onChange(event) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        name: event.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"email\",\n    placeholder: \"Email\",\n    type: \"email\",\n    value: formData.email,\n    onChange: function onChange(event) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        email: event.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Password\",\n    value: formData.password,\n    onChange: function onChange(event) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        password: event.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-box\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: handleRegister,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 35\n    }\n  }, \"Register\"))))))))))))))));\n};\n\nLoginRegister.propTypes = {\n  location: PropTypes.object\n};\nexport default LoginRegister;","map":{"version":3,"sources":["/var/www/html/Client/India/adysoft/nextjs-store/src/pages/other/LoginRegister.js"],"names":["PropTypes","React","Fragment","useState","MetaTags","Link","useHistory","BreadcrumbsItem","Tab","Nav","LayoutOne","Breadcrumb","axios","ToastProvider","useToasts","LoginRegister","location","navigate","addToast","pathname","name","email","password","formData","setFormData","handleLogin","url","process","env","REACT_APP_API_URL","method","data","query","then","result","login","user","role_id","role","window","localStorage","setItem","token","console","log","JSON","stringify","appearance","setTimeout","push","catch","err","handleRegister","post","res","errors","userCreate","PUBLIC_URL","event","target","value","propTypes","object"],"mappings":"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","sourcesContent":["import PropTypes from \"prop-types\";\r\nimport React, { Fragment,useState } from \"react\";\r\nimport MetaTags from \"react-meta-tags\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { BreadcrumbsItem } from \"react-breadcrumbs-dynamic\";\r\nimport Tab from \"react-bootstrap/Tab\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport LayoutOne from \"../../layouts/LayoutOne\";\r\nimport Breadcrumb from \"../../wrappers/breadcrumb/Breadcrumb\";\r\nimport axios from 'axios'\r\nimport { ToastProvider, useToasts } from 'react-toast-notifications';\r\n\r\nconst LoginRegister = ({ location }) => {\r\n\r\n  const navigate = useHistory();\r\n  const { addToast } = useToasts();\r\n  const { pathname } = location;\r\n\r\n  const [formData, setFormData] = useState({\r\n    name:\"\",\r\n    email:\"\",\r\n    password:\"\"\r\n\r\n  });\r\n\r\n  \r\n\r\n  const handleLogin = () =>{\r\n\r\n      axios({\r\n        url:  process.env.REACT_APP_API_URL ,\r\n        method: 'post',\r\n        data: {\r\n          query: `\r\n          mutation {\r\n            login(email: \"${formData.email}\", password: \"${formData.password}\") {\r\n                token\r\n                user {\r\n                    id\r\n                    role_id\r\n                    name\r\n                    phone\r\n                    email\r\n                    username\r\n                    status\r\n                    role_id\r\n                    created_at\r\n                    updated_at\r\n                }\r\n            }\r\n        }\r\n            `\r\n        }\r\n      }).then((result) => {\r\n        \r\n        if(result.data.data.login.user.role_id == 6){\r\n          result.data.data.login.user.role = 'admin'\r\n        }\r\n  \r\n        window.localStorage.setItem('accessToken', result.data.data.login.token)\r\n        console.log(result.data)\r\n    \r\n        window.localStorage.setItem('userData', JSON.stringify(result.data.data.login.user))\r\n     \r\n         addToast('Login Successfully', { appearance: 'success' });\r\n         setTimeout(\r\n          () =>         navigate.push(\"/my-account\")\r\n          , \r\n          1000\r\n        );\r\n\r\n      }).catch(err => {\r\n       \r\n      })\r\n\r\n  }\r\n\r\n\r\n  const handleRegister = () =>{\r\n    \r\n    axios\r\n    .post( process.env.REACT_APP_API_URL , {\r\n      query: `\r\n\r\n      mutation {\r\n        userCreate(data: {\r\n            role_id: 7,\r\n            store_id: 1,\r\n            name: \"${formData.name}\",\r\n            phone: \"9142627909\",\r\n            email: \"${formData.email}\",\r\n            username: \"${formData.name}\",\r\n            password: \"${formData.password}\",            \r\n            address: \"N/A\",\r\n        }) {\r\n            id,\r\n            role_id,\r\n            store_id,\r\n            name,\r\n            phone,\r\n            email,\r\n            username,\r\n            address,\r\n            status,\r\n            created_at,\r\n            updated_at\r\n        }\r\n    }\r\n \r\n        `\r\n    })\r\n    .then(res => {\r\n      if (res.data.errors) {\r\n        //\r\n      } else {\r\n\r\n        console.log(res)\r\n       // window.localStorage.setItem('accessToken', res.data.data.register.token)\r\n    \r\n        window.localStorage.setItem('userData', JSON.stringify(res.data.data.userCreate))\r\n     \r\n        console.log(res)\r\n\r\n        addToast('Registration Successfully', { appearance: 'success' });\r\n\r\n        setTimeout(\r\n          () =>         navigate.push(\"/my-account\")\r\n          , \r\n          1000\r\n        );\r\n\r\n      }\r\n    })\r\n    .catch(err => {\r\n       \r\n    })\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaTags>\r\n        <title>Flone | Login</title>\r\n        <meta\r\n          name=\"description\"\r\n          content=\"Compare page of flone react minimalist eCommerce template.\"\r\n        />\r\n      </MetaTags>\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + \"/\"}>Home</BreadcrumbsItem>\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + pathname}>\r\n        Login Register\r\n      </BreadcrumbsItem>\r\n      <LayoutOne headerTop=\"visible\">\r\n        {/* breadcrumb */}\r\n        <Breadcrumb />\r\n        <div className=\"login-register-area pt-100 pb-100\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-7 col-md-12 ml-auto mr-auto\">\r\n                <div className=\"login-register-wrapper\">\r\n                  <Tab.Container defaultActiveKey=\"login\">\r\n                    <Nav variant=\"pills\" className=\"login-register-tab-list\">\r\n                      <Nav.Item>\r\n                        <Nav.Link eventKey=\"login\">\r\n                          <h4>Login</h4>\r\n                        </Nav.Link>\r\n                      </Nav.Item>\r\n                      <Nav.Item>\r\n                        <Nav.Link eventKey=\"register\">\r\n                          <h4>Register</h4>\r\n                        </Nav.Link>\r\n                      </Nav.Item>\r\n                    </Nav>\r\n                    <Tab.Content>\r\n                      <Tab.Pane eventKey=\"login\">\r\n                        <div className=\"login-form-container\">\r\n                          <div className=\"login-register-form\">\r\n                            <form>\r\n                              <input\r\n                                type=\"text\"\r\n                                name=\"email\"\r\n                                placeholder=\"email\"\r\n                                value={formData.email}\r\n                                onChange={(event) =>\r\n                                  setFormData({ ...formData, email: event.target.value })\r\n                                }\r\n                              />\r\n                              <input\r\n                                type=\"password\"\r\n                                name=\"password\"\r\n                                placeholder=\"Password\"\r\n                                value={formData.password}\r\n                                onChange={(event) =>\r\n                                  setFormData({ ...formData, password: event.target.value })\r\n                                }\r\n                              />\r\n                              <div className=\"button-box\">\r\n                                <div className=\"login-toggle-btn\">\r\n                                  <input type=\"checkbox\" />\r\n                                  <label className=\"ml-10\">Remember me</label>\r\n                                  <Link to={process.env.PUBLIC_URL + \"/\"}>\r\n                                    Forgot Password?\r\n                                  </Link>\r\n                                </div>\r\n                                <button type=\"button\" onClick={handleLogin}>\r\n                                  <span>Login</span>\r\n                                </button>\r\n                              </div>\r\n                            </form>\r\n                          </div>\r\n                        </div>\r\n                      </Tab.Pane>\r\n                      <Tab.Pane eventKey=\"register\">\r\n                        <div className=\"login-form-container\">\r\n                          <div className=\"login-register-form\">\r\n                            <form>\r\n                              <input\r\n                                type=\"text\"\r\n                                name=\"name\"\r\n                                placeholder=\"Name\"\r\n                                value={formData.name}\r\n                                onChange={(event) =>\r\n                                  setFormData({ ...formData, name: event.target.value })\r\n                                }\r\n                              />\r\n\r\n                              <input\r\n                                name=\"email\"\r\n                                placeholder=\"Email\"\r\n                                type=\"email\"\r\n                                value={formData.email}\r\n                                onChange={(event) =>\r\n                                  setFormData({ ...formData, email: event.target.value })\r\n                                }\r\n                              />\r\n\r\n                              <input\r\n                                type=\"password\"\r\n                                name=\"password\"\r\n                                placeholder=\"Password\"\r\n                                value={formData.password}\r\n                                onChange={(event) =>\r\n                                  setFormData({ ...formData, password: event.target.value })\r\n                                }\r\n                              />\r\n                            \r\n                              <div className=\"button-box\">\r\n                                <button type=\"button\" onClick={handleRegister}>\r\n                                  <span>Register</span>\r\n                                </button>\r\n                              </div>\r\n                            </form>\r\n                          </div>\r\n                        </div>\r\n                      </Tab.Pane>\r\n                    </Tab.Content>\r\n                  </Tab.Container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </LayoutOne>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nLoginRegister.propTypes = {\r\n  location: PropTypes.object\r\n};\r\n\r\nexport default LoginRegister;\r\n"]},"metadata":{},"sourceType":"module"}